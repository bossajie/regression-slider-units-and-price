<!DOCTYPE html>
<html>
<head>
	<title>Regression Calculator</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			margin: 0;
			padding: 0;
		}
		h1 {
			background-color: #0077be;
			color: white;
			padding: 1rem;
			margin: 0;
		}
		h2 {
			margin-top: 3rem;
		}
		form {
			max-width: 600px;
			margin: 2rem auto;
			padding: 2rem;
			background-color: #f8f8f8;
			border-radius: 10px;
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
		}
		label {
			display: block;
			margin-bottom: 0.5rem;
		}
		input[type="number"] {
			padding: 0.5rem;
			border-radius: 5px;
			border: 1px solid #ccc;
			width: 100%;
			box-sizing: border-box;
			font-size: 1rem;
			margin-bottom: 1rem;
		}
		p {
			font-size: 1.2rem;
			font-weight: bold;
			margin-top: 0.5rem;
		}
	</style>
</head>
<body>
	<h1>Regression Calculator</h1>
	<form>
		<h2>Residential</h2>
		<label for="residential-input">Enter data usage in GB:</label>
		<input type="number" id="residential-input" onchange="calculateResidential()" oninput="calculateResidential()">
		<p id="residential-output"></p>
		<h2>Scraper</h2>
		<label for="scraper-input">Enter data usage in GB:</label>
		<input type="number" id="scraper-input" onchange="calculateScraper()" oninput="calculateScraper()">
		<p id="scraper-output"></p>
	</form>
<script>
// Define constants for Residential and Scraper
const CONSTANTS = {
  Residential: {
    // Define pricing range and regression for Residential
    range: [
      { from: 1, to: 1000, regression: { slope: -0.0035, intercept: 5.0035 } },
      { from: 1000, to: 10000, regression: { slope: -0.0005, intercept: 1.5 } },
      { from: 10000, to: Infinity, regression: { slope: 0, intercept: 1 } },
    ],
  },
  Scraper: {
    // Define pricing range and regression for Scraper
    range: [
      { from: 1, to: 1000, regression: { slope: -0.005, intercept: 7.005 } },
      { from: 1000, to: 10000, regression: { slope: -0.0005, intercept: 1.5 } },
      { from: 10000, to: Infinity, regression: { slope: 0, intercept: 1.5 } },
    ],
  },
};

// Function to calculate the price for a given data usage and category
function calculatePrice(usage, category) {
  // Find the range that the usage falls into based on the given category
  const pricingRange = CONSTANTS[category].range.find((range) => {
    return usage >= range.from && usage <= range.to;
  });

  // If the usage is above the highest range, return the highest price
  if (!pricingRange) {
    return CONSTANTS[category].range[CONSTANTS[category].range.length - 1].regression.intercept;
  }

  // Calculate the price using the regression equation for the given range
  const price = pricingRange.regression.slope * usage + pricingRange.regression.intercept;

  // Return the price rounded to 2 decimal places
  return Math.round(price * 100) / 100;
}

// Function to calculate the price for Residential category
function calculateResidential() {
  // Get the input value from the Residential input field
  const input = document.getElementById("residential-input").value;

  // Calculate the price for the input value using the calculatePrice function and the Residential category
  const price = calculatePrice(input, "Residential");

  // Set the output value to the calculated price
  document.getElementById("residential-output").textContent = `Price: $${price}`;
}

// Function to calculate the price for Scraper category
function calculateScraper() {
  // Get the input value from the Scraper input field
  const input = document.getElementById("scraper-input").value;

  // Calculate the price for the input value using the calculatePrice function and the Scraper category
  const price = calculatePrice(input, "Scraper");

  // Set the output value to the calculated price
  document.getElementById("scraper-output").textContent = `Price: $${price}`;
}


</script>


</body>
</html>
